@page "/"
@using BlazorState;
@using Harmony.Client.Features.Counter;
@inject Microsoft.Extensions.Localization.IStringLocalizer<Index> _localizer
@inherits BlazorStateComponent

<PageTitle>@_localizer["Title"]</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.

<p role="status">Current count: @currentCount</p>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>

@code {
    CounterState CounterState => GetState<CounterState>();

    private int currentCount => CounterState.Count;

    async Task IncrementCount()
    {
        await Mediator.Send(new CounterState.IncrementCountAction { Amount = 5 });
    }
}