@page "/projects/{id}/settings/automation"

<MudContainer Style="position:relative;height:calc(100vh - 100px);overflow:hidden">
    <AutomationEditor IsOpened="_drawerOpened" 
                      TemplateName="@_selectedTemplateName"
                      BoardId="Guid.Parse(Id)"
                      AutomationType="_automationType" />
    <MudPaper Class="d-flex flex-wrap gap-4" Elevation="0">
        @foreach (var template in _templates)
        {
            <MudCard Class="ma-4" Style="width:300px;height:300px;">
                <MudCardContent>
                    <MudStack Row="true" Class="py-6 mud-theme-primary" Spacing="3" Justify="Justify.Center" AlignItems="AlignItems.Center">
                        <MudIcon Icon="@Icons.Material.Filled.Task" Size="Size.Large" />
                        <MudIcon Icon="@Icons.Material.Rounded.East" Color="Color.Secondary" Size="Size.Large" />
                        <MudIcon Icon="@Icons.Material.Filled.AccountTree" Size="Size.Large" />
                        <MudIcon Icon="@Icons.Material.Filled.TaskAlt"  Size="Size.Large" />
                    </MudStack>
                    <MudText>@template.Name</MudText>
                        <MudText Typo="Typo.body2">@((MarkupString)template.Summary)</MudText>
                    </MudCardContent>
                    <MudCardActions>
                        <MudButton Variant="Variant.Text" Disabled="!template.Enabled"
                        OnClick="@(() => OpenTemplate(template))" Color="Color.Primary">Open</MudButton>
                    </MudCardActions>
                </MudCard>
        }
    </MudPaper>
</MudContainer>
