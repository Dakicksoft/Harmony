@page "/workspaces/{id}/{name}/boards/"
@using Harmony.Client.Infrastructure.Helper;

@if (_loading)
{
    <Loader />
}
else
{
    <MudPaper Class="d-flex flex-wrap gap-4 justify-center" Elevation="0">

        @foreach (var board in _boards)
        {
            <MudPaper>
                <MudList Color="Color.Secondary" Clickable="true" @onclick="() => NavigateToBoard(board)">
                    <MudListSubheader Class="cursor-pointer">
                        <MudText Typo="Typo.h5">@board.Title</MudText>
                        <MudText Typo="Typo.body1">@board.Description</MudText>
                    </MudListSubheader>
                    <MudListItem Icon="@Icons.Material.Filled.GroupWork">
                        @board.TotalItems members
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.Visibility">
                        <MudTooltip Text="Visibility">
                            <MudChip Icon="@Icons.Material.Filled.Visibility" IconColor="ColorHelper.GetVisibilityColor(board.Visibility)">@board.Visibility</MudChip>
                        </MudTooltip>
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.List">
                        @board.Lists.Count lists
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.Task">
                        @board.TotalItemsCompleted / @board.TotalItems items completed
                    </MudListItem>
                </MudList>
            </MudPaper>
        }
    </MudPaper>
}


